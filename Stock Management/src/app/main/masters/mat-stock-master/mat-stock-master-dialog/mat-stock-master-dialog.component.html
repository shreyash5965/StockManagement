<div class="container">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 text-center p-0">
                <h3 class="title h-35">{{isNew == true ? "Add" : "Edit"}} Stock Details</h3>
                <span class="btnClose" (click)="onCancel()">&times;</span>
            </div>
        </div><br />
        <form [formGroup] ="stockForm" class="stockForm">
            <div class="row">
                <div class="col-md-6 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Stock Name</mat-label>
                        <input 
                            matInput 
                            placeholder="Enter Stock Name" 
                            class="form-control" 
                            formControlName="strstockname" />
                        <mat-error *ngIf="stockForm.controls.strstockname.errors && (stockForm.controls.strstockname.touched || stockForm.controls.strstockname.dirty)">
                            Please Enter Stock Name
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-6 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Short Name</mat-label>
                        <input 
                            matInput 
                            placeholder="Enter Short Name" 
                            class="form-control" 
                            formControlName="strshortname" />
                    </mat-form-field>
                </div>
            </div><br />
            <div class="row">
                <div class="col-md-6 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Lowest Price</mat-label>
                        <input type="number"
                            min="0.5"
                            max="90000"
                            matInput 
                            placeholder="Enter Lowest Price" 
                            class="form-control" 
                            formControlName="intlowestprice" />
                        <mat-error *ngIf="stockForm.controls.intlowestprice.errors && (stockForm.controls.intlowestprice.touched || stockForm.controls.intlowestprice.dirty)">
                            Please Enter Lowest Price
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-6 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Highest Price</mat-label>
                        <input type="number"
                            min="0.5"
                            max="90000"
                            matInput 
                            placeholder="Enter Highest Price" 
                            class="form-control" 
                            formControlName="inthighestprice" />
                        <mat-error *ngIf="stockForm.controls.inthighestprice.errors && (stockForm.controls.inthighestprice.touched || stockForm.controls.inthighestprice.dirty)">
                            Please Enter Highest Price
                        </mat-error>
                      </mat-form-field>
                </div>
            </div><br />
            <div class="row">
                <div class="col-md-2 col-sm-12">
                    <mat-label>Is Listed?</mat-label>&nbsp;
                    <input 
                        MatCheckbox
                        type="checkbox"
                        formControlName="islisted" 
                        [checked]="stockForm.value.islisted">
                </div>
                <!-- (change)="onChangeListedFlag($event.target)" -->
                <!-- <div class="col-md-4 col-sm-12" *ngIf="stockForm.value.islisted">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Listed On</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="dtelistedon" >
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle 
                            matIconSuffix 
                            [for]="picker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="stockForm.controls.dtelistedon.errors && (stockForm.controls.dtelistedon.touched || stockForm.controls.dtelistedon.dirty)">
                            Please Enter Listed Date
                        </mat-error>
                    </mat-form-field>
                </div> -->
                <div class="col-md-6 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Description</mat-label>
                        <textarea 
                            matInput 
                            placeholder="Enter Description" 
                            class="form-control" 
                            formControlName="strdescription"></textarea>
                    </mat-form-field>
                </div>
            </div><br />
            <div class="row">
                <div class="col-md-12 text-right">
                    <button mat-flat-button color="basic" id="btnCancel" (click)="onCancel()">
                        Cancel <mat-icon>cancel</mat-icon>
                    </button>
                    &nbsp;&nbsp;
                    <button mat-flat-button color="primary" name="btnSubmit" (click)="onSubmit(stockForm.value)"
                        [disabled]= "stockForm.invalid && !isLoading" *ngIf="!isLoading">
                        Submit <mat-icon>check</mat-icon>
                    </button>
                    <img src="../../../../assets/Images/loading.gif" width="50" *ngIf="isLoading" />
                </div>
            </div><br />
        </form>
    </div>    
</div>